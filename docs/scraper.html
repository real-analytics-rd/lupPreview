---

title: The Guardian Scraper


keywords: fastai
sidebar: home_sidebar

summary: "Scraping Premier League Previews from the Guardian."
description: "Scraping Premier League Previews from the Guardian."
nb_path: "00_scraper.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_scraper.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div style="font-size: 200px">

<table>
<thead><tr>
<th>Issues</th>
<th>Solutions</th>
</tr>
</thead>
<tbody>
<tr>
<td>4 possible formats for previews(old format, new format,Cup's format and a particular format)</td>
<td>Select the appropriate html tags</td>
</tr>
<tr>
<td>Preview titles are not the same ( we can find Squad Sheets or match preview)</td>
<td>Pick only the names of the teams and eliminate the rest</td>
</tr>
<tr>
<td>The date of the match is not always available</td>
<td>Pick the preview date</td>
</tr>
<tr>
<td>The order of the elements and labels are not the same</td>
<td>Using regex patterns to get information</td>
</tr>
<tr>
<td>Missing values for betting odds</td>
<td>We treat the general case separately and we set up specific regex patterns for these particular cases</td>
</tr>
<tr>
<td>Odds format is different</td>
<td>We treat the general case separately and we set up specific regex patterns for these particular cases</td>
</tr>
<tr>
<td>We can find non-numeric values for Odds like (Evens,evens,Eve)</td>
<td>Replace evens by 1-1</td>
</tr>
<tr>
<td>There are some previews that don't have author and text</td>
<td>For previews that have no text, we put 'n/a' (not available)</td>
</tr>
<tr>
<td>The existence of previews for the FA CUP,Carabao Cup,Champions league,World Cup</td>
<td>Filter previews by title,link,topic,aside html section and preview text and allow only Premier League previews</td>
</tr>
<tr>
<td>We are not sure if the names of the teams are the same as the ones in Opta</td>
<td>Set up a dictionary or check manually to map teams to their IDs</td>
</tr>
<tr>
<td>When we send many requests, the guardian server blocks your IP address, which is interpreted as a DDOS attack</td>
<td>Do a sleep of a random x seconds between requests or change your IP and work with rotating proxy</td>
</tr>
</tbody>
</table>
<p>&lt;/div &gt;</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Import-Libraries-and-Modules">Import Libraries and Modules<a class="anchor-link" href="#Import-Libraries-and-Modules"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Parser-Class">Parser Class<a class="anchor-link" href="#Parser-Class"> </a></h3><h5 id="This-class-is-used-to-parse-pages-and-has-two-functions:">This class is used to parse pages and has two functions:<a class="anchor-link" href="#This-class-is-used-to-parse-pages-and-has-two-functions:"> </a></h5><p>1- <b> parse_page </b> function:retrieves the html format of a given web page link.</p>
<p>2- <b> get_next_page </b> function: retrieves the link to the next page and determines if it is the last page of previews in order to stop scraping.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Parser" class="doc_header"><code>class</code> <code>Parser</code><a href="https://github.com/MeherKharbachi/guardian_scraper/tree/master/guardian_scraper/scraper.py#L16" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Parser</code>()</p>
</blockquote>
<p>A class to represent previews pages parser.</p>
<p>...</p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2><p>parse_page(page_url,session)
    returns the html format of the page.
get_next_page(page)
    returns the link of the following page and if it's the last page.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="PageExtractor-Class">PageExtractor Class<a class="anchor-link" href="#PageExtractor-Class"> </a></h3><h5 id="This-class-has-five-functions-for-extracting-data-from-a-given-football-preview:">This class has five functions for extracting data from a given football preview:<a class="anchor-link" href="#This-class-has-five-functions-for-extracting-data-from-a-given-football-preview:"> </a></h5><p>1- <b> get_values_matching_regex </b> returns values that match a regex expression.</p>
<p>&emsp;Because the "Guardian" website has two possible formats, we defined two possible classifiers for the p tags <br>&emsp;containing the information to be extracted.<br>
&emsp;We go through each p section, and if we find the result, we return it; otherwise, a None is returned.<br>
&emsp;The result is a list of tuples, with each tuple representing a value that matches the regex pattern.<br> &emsp;Unsatisfied patterns for regexes that include <b>OR</b> conditions will be empty tuples. That's why you need to get rid of it.</p>
<p>2- <b> extract_teams_names </b> returns the names of the two teams in a football preview.</p>
<p>&emsp;The preview includes team names at the title level.
 <br>&emsp;example:
          &emsp;&emsp;{{Squad Sheets: Team A v Team B}} 
         or &emsp;&emsp;{{Team A v Team B: match preview}} 
         or &emsp;&emsp;{{Team A v Team B: Squad Sheets}}
<br>&emsp;As a result, our strategy is to delete the text preceding or following the names and recover each name <br>&emsp;individually.
<br>&emsp;If we were successful in obtaining the names, they will be returned in a Python dictionary; <br>&emsp;otherwise, the values will be 'n/a'(Not available).</p>
<p>3- <b> extract_text_authors </b>returns the text and author of a football preview.</p>
<p>&emsp;It's difficult to determine the position of the text, but it's almost certainly the block with the most <br>&emsp;characters.
<br>&emsp;To proceed, we store each paragraph and its size in a Python dictionary, and then we take the <br>&emsp;block with the largest size.
<br>&emsp;To be sure, we double-check by only accepting texts with a size greater than 160 because there <br>&emsp;are football previews with no text or author.
<br>&emsp;Furthermore, the author information is always under the text section, more specifically in a <br>&emsp;strong tag, so if the text does not exist, the author is missing as well.
If we were successful in <br>&emsp;obtaining the text and the author, they will be returned in a Python dictionary. Otherwise, the <br>&emsp;values will be 'n/a'(Not available).</p>
<p>4- <b> extract_preview_date </b> returns the date of publication of a football preview.</p>
<p>&emsp;We have distinguished two dates for the date of publication: the first is the date of publication, <br>&emsp;and the second is the date of the most recent modification.
In this sense, we go through the <br>&emsp;section where the two dates are located and take only the first and use 'dateparser' to convert <br>&emsp;the string into a date in "yyyy-mm-dd" format.
If we were successful in obtaining the date, it will <br>&emsp; be returned. Otherwise, the value will be 'n/a'(Not available).</p>
<p>5- <b> extract_match_infos </b> returns a football match information (venue, referee, odds).</p>
<p>&emsp;Here, we'll call the first function <b>get_values_matching_regex</b> , which will allow us to retrieve this<br>&emsp;information by specifying a regex expression for each.<br>&emsp;If this data is not available, the value will be 'n/a'.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PageExtractor" class="doc_header"><code>class</code> <code>PageExtractor</code><a href="https://github.com/MeherKharbachi/guardian_scraper/tree/master/guardian_scraper/scraper.py#L94" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PageExtractor</code>()</p>
</blockquote>
<p>A class to represent an information extractor from a football preview.</p>
<p>...</p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2><p>get_values_matching_regex(page, regex)
    return all matched patterns from a preview page.
extract_teams_names(title)
    returns team names from the preview title.
extract_text_authors(page)
    returns the text and author of the preview.
extract_preview_date(page)
    returns the publication date of the preview.
extract_match_infos(page, venue_regex, referee_regex, odds_regex)
    returns a football match information (venue,referee,odds).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="ScrapingTheGuardian-Class">ScrapingTheGuardian Class<a class="anchor-link" href="#ScrapingTheGuardian-Class"> </a></h3><h5 id="This-class-represents-a-scraper-from-the-&quot;Guardian&quot;-website-and-has-3-functions:">This class represents a scraper from the "Guardian" website and has 3 functions:<a class="anchor-link" href="#This-class-represents-a-scraper-from-the-&quot;Guardian&quot;-website-and-has-3-functions:"> </a></h5><p>1- <b> calculate_betting_odds </b> returns decimal odds.</p>
<p>&emsp;In this section, we will calculate the odds derived from the football preview.
<br>&emsp;Considering the following example:
<br>&emsp;&emsp; ["9-20","29-5","6-5"] 
<br>&emsp;&emsp;We calculate each sport's rating separately using the following formula:
<br>&emsp;&emsp;&emsp; home = (9/20) + 1 
<br>&emsp;&emsp;&emsp; away = (29/5) + 1
<br>&emsp;&emsp;&emsp; draw = (6/5) + 1
<br>&emsp;If we were successful in obtaining decimal odds, they will be returned in a Python dictionary.<br>&emsp;Otherwise, the values will be 'n/a'(Not available).</p>
<p>2- <b> extract_preview_items </b>returns the entire contents of a football preview.</p>
<p>&emsp;In this section, we will call the functions defined in the PageExtractor class and return a Python dictionary containing all of this information.
<br>&emsp;But first, we use the <b>calculate_betting_odds</b> function to calculate the sports odds for the home team's victory, the away team's victory, and a draw.</p>
<p>"home team","away team","text","author","venue","referee","odds","odds home team","odds away team","odds draw", "preview date" are the values returned.</p>
<p>3- <b> extract_previews </b>returns all the information of all browsed previews.</p>
<p>&emsp;For a given page, we retrieve all the previews and go through them one by one, taking the link, title, subject, and aside section.
<br>&emsp;if the words "cup" or "champions league" do not belong in these sections, we process the preview
<br>&emsp;otherwise, we move on to the next preview.
<br>&emsp;The previous function, <b>extract_preview_items</b>, will be called here to extract the information from each preview, which will then be stored in a list called <br>&emsp;<b>all_previews_information</b>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ScrapingTheGuardian" class="doc_header"><code>class</code> <code>ScrapingTheGuardian</code><a href="https://github.com/MeherKharbachi/guardian_scraper/tree/master/guardian_scraper/scraper.py#L342" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ScrapingTheGuardian</code>()</p>
</blockquote>
<p>A class to represent a scraper from the "Guardian" website.</p>
<p>...</p>
<h2 id="Attributes">Attributes<a class="anchor-link" href="#Attributes"> </a></h2><p>session : requests_html.HTMLSession
    a web session
VENUE_REGEX : str
    venue regex expression
REFEREE_REGEX : str
    referee regex expression
ODDS_REGEX : str
    odds regex expression</p>
<h2 id="Methods">Methods<a class="anchor-link" href="#Methods"> </a></h2><p>calculate_betting_odds(odds)
    returns decimal odds.
extract_preview_items(page,title)
    returns all information of a football preview
extract_previews(self,page)
    returns all the information of all browsed previews</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="USE-CASE">USE CASE<a class="anchor-link" href="#USE-CASE"> </a></h2><h4 id="scraping-only-one-given-page">scraping only one given page<a class="anchor-link" href="#scraping-only-one-given-page"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.theguardian.com/football/series/match-previews?page=140&quot;</span>
<span class="n">scraper</span> <span class="o">=</span> <span class="n">ScrapingTheGuardian</span><span class="p">()</span>
<span class="n">previews_infos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">Parser</span><span class="o">.</span><span class="n">parse_page</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">scraper</span><span class="o">.</span><span class="n">session</span><span class="p">)</span>
<span class="n">previews_infos</span> <span class="o">=</span> <span class="n">scraper</span><span class="o">.</span><span class="n">extract_previews</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-data">Visualize data<a class="anchor-link" href="#Visualize-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">previews_infos</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>home_team</th>
      <th>away_team</th>
      <th>text</th>
      <th>author</th>
      <th>venue</th>
      <th>referee</th>
      <th>odds</th>
      <th>odds_home_team</th>
      <th>odds_away_team</th>
      <th>odds_draw</th>
      <th>preview_date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Liverpool</td>
      <td>Queens Park Rangers</td>
      <td>Try telling Jamie Carragher that nothing is ri...</td>
      <td>Andy Hunter</td>
      <td>Anfield</td>
      <td>Martin Atkinson</td>
      <td>[1-4, 12-1, 11-2]</td>
      <td>1.250000</td>
      <td>13.000000</td>
      <td>6.500000</td>
      <td>2013-05-17</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Chelsea</td>
      <td>Everton</td>
      <td>This will be the last hurrah for both Rafael B...</td>
      <td>Dominic Fifield</td>
      <td>Stamford Bridge</td>
      <td>Anthony Taylor</td>
      <td>[7-10, 9-2, 3-1]</td>
      <td>1.700000</td>
      <td>5.500000</td>
      <td>4.000000</td>
      <td>2013-05-17</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Manchester City</td>
      <td>Norwich City</td>
      <td>Now that Roberto Mancini has been sacked by Ma...</td>
      <td>Jamie Jackson</td>
      <td>Carrow Road</td>
      <td>Mark Halsey</td>
      <td>[4-11, 11-1, 9-2]</td>
      <td>1.363636</td>
      <td>12.000000</td>
      <td>5.500000</td>
      <td>2013-05-17</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Manchester United</td>
      <td>Swansea City</td>
      <td>Playing away at Manchester United in the Premi...</td>
      <td>Rich Flower</td>
      <td>Old Trafford</td>
      <td>Jon Moss</td>
      <td>[1-3, 11-1, 19-4]</td>
      <td>1.333333</td>
      <td>12.000000</td>
      <td>5.750000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Stoke City</td>
      <td>Tottenham Hotspur</td>
      <td>Tottenham travel to the Britannia Stadium to f...</td>
      <td>Alex Sutch</td>
      <td>Britannia Stadium</td>
      <td>Kevin Friend</td>
      <td>[7-2, 10-11, 13-5]</td>
      <td>4.500000</td>
      <td>1.909091</td>
      <td>3.600000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Fulham</td>
      <td>Liverpool</td>
      <td>Four defeats in a row, the most recent of whic...</td>
      <td>Sachin Nakrani</td>
      <td>Craven Cottage</td>
      <td>Mark Halsey</td>
      <td>[3-1, 10-11, 13-5]</td>
      <td>4.000000</td>
      <td>1.909091</td>
      <td>3.600000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Norwich City</td>
      <td>West Bromwich Albion</td>
      <td>Norwich are not in turmoil, according to their...</td>
      <td>Rich Flower</td>
      <td>Carrow Road</td>
      <td>Howard Webb</td>
      <td>[6-5, 5-2, 5-2]</td>
      <td>2.200000</td>
      <td>3.500000</td>
      <td>3.500000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Everton</td>
      <td>West Ham United</td>
      <td>David Moyes should receive a rousing and emoti...</td>
      <td>Andy Hunter</td>
      <td>Goodison Park</td>
      <td>Mike Jones</td>
      <td>[8-15, 13-2, 10-3]</td>
      <td>1.533333</td>
      <td>7.500000</td>
      <td>4.333333</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Queens Park Rangers</td>
      <td>Newcastle United</td>
      <td>Newcastle United felt a little sore that their...</td>
      <td>David Hytner</td>
      <td>Loftus Road</td>
      <td>Lee Probert</td>
      <td>[12-5, 13-10, 12-5]</td>
      <td>3.400000</td>
      <td>2.300000</td>
      <td>3.400000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Aston Villa</td>
      <td>Chelsea</td>
      <td>With Chelsea chasing a top-four finish and Ast...</td>
      <td>Stuart James</td>
      <td>Villa Park</td>
      <td>Lee Mason</td>
      <td>[7-2, 10-11, 14-5]</td>
      <td>4.500000</td>
      <td>1.909091</td>
      <td>3.800000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Sunderland</td>
      <td>Southampton</td>
      <td>Who, back in August, would have guessed that S...</td>
      <td>Louise Taylor</td>
      <td>Stadium of Light</td>
      <td>Mike Dean</td>
      <td>[9-5, 15-8, 9-4]</td>
      <td>2.800000</td>
      <td>2.875000</td>
      <td>3.250000</td>
      <td>2013-05-10</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Tottenham Hotspur</td>
      <td>Southampton</td>
      <td>It has been a good week for Gareth Bale, what ...</td>
      <td>David Hytner</td>
      <td>White Hart Lane</td>
      <td>P Dowd</td>
      <td>[4-9, 6-1, 10-3]</td>
      <td>1.444444</td>
      <td>7.000000</td>
      <td>4.333333</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Sunderland</td>
      <td>Stoke City</td>
      <td>Back in August, Paolo Di Canio, then managing ...</td>
      <td>Louise Taylor</td>
      <td>Stadium of Light</td>
      <td>L Mason</td>
      <td>[1-1, 3-1, 11-5]</td>
      <td>2.000000</td>
      <td>4.000000</td>
      <td>3.200000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Norwich City</td>
      <td>Aston Villa</td>
      <td>The focus ahead of this game is on Aston Villa...</td>
      <td>Lawrence Ostlere</td>
      <td>Carrow Road</td>
      <td>K Friend</td>
      <td>[7-5, 15-8, 23-10]</td>
      <td>2.400000</td>
      <td>2.875000</td>
      <td>3.300000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>14</th>
      <td>West Bromwich Albion</td>
      <td>Wigan Athletic</td>
      <td>Wigan's attempt to repeat their perennial esca...</td>
      <td>Lawrence Ostlere</td>
      <td>The Hawthorns</td>
      <td>L Probert</td>
      <td>[13-10, 2-1, 12-5]</td>
      <td>2.300000</td>
      <td>3.000000</td>
      <td>3.400000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>15</th>
      <td>West Ham United</td>
      <td>Newcastle United</td>
      <td>Not many would have predicted at the start of ...</td>
      <td>Lawrence Ostlere</td>
      <td>Upton Park</td>
      <td>C Foy</td>
      <td>[13-10, 2-1, 23-10]</td>
      <td>2.300000</td>
      <td>3.000000</td>
      <td>3.300000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Fulham</td>
      <td>Reading</td>
      <td>This has the distinct feeling of a Premier Lea...</td>
      <td>Lawrence Ostlere</td>
      <td>Craven Cottage</td>
      <td>N Swarbrick</td>
      <td>[8-11, 4-1, 13-5]</td>
      <td>1.727273</td>
      <td>5.000000</td>
      <td>3.600000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Queens Park Rangers</td>
      <td>Arsenal</td>
      <td>The game is up for Queens Park Rangers in the ...</td>
      <td>Dominic Fifield</td>
      <td>Loftus Road</td>
      <td>J Moss</td>
      <td>[7-1, 2-5, 7-2]</td>
      <td>8.000000</td>
      <td>1.400000</td>
      <td>4.500000</td>
      <td>2013-05-03</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Swansea City</td>
      <td>Manchester City</td>
      <td>The Capital One Cup hangover appears to have w...</td>
      <td>Lawrence Ostlere</td>
      <td>Liberty Stadium</td>
      <td>M Jones</td>
      <td>[15-4, 3-4, 13-5]</td>
      <td>4.750000</td>
      <td>1.750000</td>
      <td>3.600000</td>
      <td>2013-05-03</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Scraping-all-pages">Scraping all pages<a class="anchor-link" href="#Scraping-all-pages"> </a></h3>
</div>
</div>
</div>url = "https://www.theguardian.com/football/series/match-previews"
scraper = ScrapingTheGuardian()
all_previews =[]
last_page = False
while last_page == False : 
    page = Parser.parse_page(url,scraper.session)
    previews_infos = scraper.extract_previews(page)
    all_previews.append(previews_infos)
    url, last_page = Parser.get_next_page(page)
    # wait 20s
    sleep(20)
</div>
 

